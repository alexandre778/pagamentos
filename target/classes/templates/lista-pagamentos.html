<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGMSOFTWARE - Lista de Pagamentos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">AGMSOFTWARE</a>
    <ul class="navbar-nav ms-auto">
      <li class="nav-item"><a class="nav-link" href="/">In√≠cio</a></li>
      <li class="nav-item"><a class="nav-link active" href="/pagamentos">Lista de Pagamentos</a></li>
      <li class="nav-item"><a class="nav-link" href="/pagamentos/novo">Novo Pagamento</a></li>
    </ul>
  </div>
</nav>

<div class="container mt-4">
    <div class="card shadow-lg rounded-4">
        <div class="card-body">
            <div class="text-end mb-3">
                <a th:href="@{/pagamentos/novo}" class="btn btn-success">+ Novo Pagamento</a>
                <a th:href="@{/}" class="btn btn-secondary ms-2">üè† In√≠cio</a>
            </div>

            <table class="table table-hover table-striped align-middle text-center">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Empresa</th>
                        <th>Tipo Imposto</th>
                        <th>PIS D√©bito</th>
                        <th>PIS Cr√©dito</th>
                        <th>Valor Calculado</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="pagamento : ${pagamentos}">
                        <td th:text="${pagamento.id}"></td>
                        <td th:text="${pagamento.nomeEmpresa}"></td>
                        <td th:text="${pagamento.tipoImposto}"></td>
                        <td th:text="${pagamento.pisDebito}"></td>
                        <td th:text="${pagamento.pisCredito}"></td>
                        <td th:text="${pagamento.valorCalculado}"></td>
                        <td>
                            <a th:href="@{'/pagamentos/editar/' + ${pagamento.id}}" class="btn btn-warning btn-sm"‚úèÔ∏è Editar</a>
                            <a th:href="@{'/pagamentos/excluir/' + ${pagamento.id}}" 
                               class="btn btn-danger btn-sm"
                               onclick="return confirm('Tem certeza que deseja excluir este pagamento?')">
                               üóëÔ∏è Excluir
                            </a>
                        </td>
                    </tr>
                    <tr th:if="${#lists.isEmpty(pagamentos)}">
                        <td colspan="7" class="text-muted">Nenhum pagamento cadastrado.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>
